import{u as C,r as c,v as O,j as r,d as w,F as d,a as e,C as u,T as o,b as a,H as P,w as R,M as A,x as F,y as B,z as D,A as H,D as j,E as x,J as W,K as q,B as N}from"./index-67d0cd9a.js";import{A as T,a as E}from"./index.esm-3d1fbec8.js";import{I as Q}from"./chunk-E77276RR-4bbe9ba5.js";import{M as _}from"./chunk-YI7XFFAC-32ff57df.js";import"./chunk-QBIO4VEB-a4073386.js";function J({item:t}){const[y,n]=C();y.store;const[m,f]=c.useState(!1),p=()=>{f(!m)},[i,l]=c.useState(t.quality),{isOpen:g,onOpen:K,onClose:b}=O(),S=c.useRef(null),k=c.useRef(null),v=()=>{l(h=>h+1);const s={...t,quality:i+1,price:(i+1)*t.originPrice};n(x(s))},z=()=>{l(h=>h<=1?1:h-1);const s={...t,quality:i<=1?1:i-1,price:(i<=1?1:i-1)*t.originPrice};n(x(s))},M=()=>{const s={...t,quality:1,price:1*t.originPrice};n(x(s)),b()},I=()=>{n(W(t))};return r(w,{maxW:"calc(50% - 2rem)",h:"max-content",m:"1rem",p:"1rem",borderRadius:"1rem",border:"1px",borderColor:"gray.300",children:[r(d,{align:"center",gap:"1rem",justify:"space-between",children:[e(Q,{src:t.img,w:"5rem",h:"7rem",objectFit:"cover"}),r(u,{flexDir:"column",flex:"2",gap:"0.3rem",children:[e(o,{fontSize:"1.3rem",noOfLines:1,maxW:"full",textAlign:"center",children:t.title}),e(o,{fontSize:"1rem",color:"gray.700",children:t.category})]}),r(u,{flexDir:"column",flex:"1.5",gap:"0.3rem",children:[e(o,{children:"Origin Price"}),r(o,{fontSize:"1.3rem",fontWeight:"medium",children:[t.originPrice,"k"]})]}),r(u,{flexDir:"column",flex:"1.5",gap:"0.3rem",children:[e(o,{children:"Price"}),r(o,{fontSize:"1.3rem",fontWeight:"medium",children:[t.price,"k"]})]}),r(d,{flex:"1",align:"center",fontSize:"1.3rem",gap:"0.5rem",children:[e(a,{onClick:z,children:e(P,{})}),e(o,{children:i}),e(a,{onClick:v,children:e(R,{})})]}),e(a,{color:"red.400",w:"max-content",onClick:p,children:m?e(T,{style:{width:"1.5rem",height:"1.5rem"}}):e(E,{style:{width:"1.5rem",height:"1.5rem"}})}),e(a,{w:"max-content",color:"gray.600",_hover:{color:"red.400"},onClick:I,children:e(A,{style:{width:"1.5rem",height:"1.5rem"}})})]}),r(F,{isOpen:g,onClose:b,initialFocusRef:S,finalFocusRef:k,isCentered:!0,children:[e(B,{}),r(D,{children:[e(H,{children:"Confirm"}),e(j,{textAlign:"center",children:"bạn có thực sự muốn xoá ?"}),r(_,{children:[e(a,{children:"Yes"}),e(a,{onClick:M,children:"No"})]})]})]})]})}function X(){const[t,y]=C(),{buy:n}=t.store;console.log(n);const[m,f]=c.useState(0);c.useEffect(()=>{f(n.reduce((l,g)=>l+parseInt(g.price),0))},[n]);const p=q(),i=()=>{p("/payment")};return e(w,{pos:"absolute",top:"10rem",paddingInline:"5rem",paddingBlock:"2rem",maxW:"full",children:r(N,{pos:"relative",border:"1px",borderColor:"gray.400",p:"3rem 2rem",borderRadius:"1rem",children:[r(d,{pos:"absolute",top:"-1.8rem",left:"2rem",right:"2rem",justify:"space-between",children:[r(u,{gap:"1rem",fontSize:"1.5rem",p:"0.5rem 1rem",bg:"white",border:"1px",borderColor:"gray.400",children:[e(o,{children:"My Cart"}),e(o,{fontSize:"1rem",w:"2rem",h:"2rem",borderRadius:"50%",bg:"red.400",textAlign:"center",lineHeight:"2",color:"white",children:n.length})]}),r(d,{fontSize:"1.5rem",p:"0.5rem 1rem",bg:"white",gap:"0.5rem",border:"1px",borderColor:"gray.400",align:"center",children:[e(o,{fontSize:"1.3rem",children:"Total : "}),r(o,{children:[m,"k VND"]})]})]}),e(d,{wrap:"wrap",h:"35rem",overflow:"auto",children:n.map(l=>e(J,{item:l},l.id))}),e(a,{pos:"absolute",bottom:"-1.5rem",right:"2rem",p:"1.5rem",fontSize:"1.5rem",border:"1px",borderColor:"gray.300",fontWeight:"medium",color:"blackAlpha.800",_hover:{bg:"green.300",color:"white"},onClick:i,children:"Payment"})]})})}export{X as default};
